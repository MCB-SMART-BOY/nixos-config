#!/usr/bin/env bash
set -euo pipefail

add_path() {
  local dir="$1"
  case ":${PATH}:" in
    *":${dir}:"*) ;;
    *) PATH="${dir}:${PATH}" ;;
  esac
}

add_path "/run/wrappers/bin"
add_path "${HOME}/.local/bin"
add_path "${HOME}/.nix-profile/bin"
add_path "/etc/profiles/per-user/${USER}/bin"

export PATH
exec "$@"
